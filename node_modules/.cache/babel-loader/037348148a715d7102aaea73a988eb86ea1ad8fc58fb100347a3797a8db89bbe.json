{"ast":null,"code":"var _s = $RefreshSig$();\nconst CheckOut = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const {\n    cart,\n    total,\n    clearCart\n  } = useCart();\n  const [loading, setLoading] = useState(false);\n  const [orderId, setOrderId] = useState(null);\n  const [error, setError] = useState(null);\n  const createOrder = async e => {\n    e.preventDefault();\n    if (!user) {\n      setError('Debes iniciar sesión para realizar una compra');\n      return;\n    }\n    setLoading(true);\n    try {\n      const objOrder = {\n        items: cart.map(item => ({\n          id: item.id,\n          title: item.title,\n          price: item.price,\n          quantity: item.quantity\n        })),\n        total,\n        userId: user.uid,\n        userEmail: user.email,\n        date: new Date().toISOString(),\n        status: 'created'\n      };\n      const response = await axios.post('http://localhost:3001/api/orders', objOrder);\n      if (response.data && response.data.id) {\n        setOrderId(response.data.id);\n        clearCart();\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error al crear la orden:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error al procesar la orden');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ... resto del componente\n};\n_s(CheckOut, \"Hn2XGxfd07yziUw1YvRPdTT1s1o=\", true);\n_c = CheckOut;\nvar _c;\n$RefreshReg$(_c, \"CheckOut\");","map":{"version":3,"names":["CheckOut","_s","user","useAuth","cart","total","clearCart","useCart","loading","setLoading","useState","orderId","setOrderId","error","setError","createOrder","e","preventDefault","objOrder","items","map","item","id","title","price","quantity","userId","uid","userEmail","email","date","Date","toISOString","status","response","axios","post","data","_error$response","_error$response$data","console","message","_c","$RefreshReg$"],"sources":["C:/Users/guill/OneDrive/Documents/UADE/TP/equipo1-ecommerce/equipo1-ecommerce/src/views/CheckOut.jsx"],"sourcesContent":["const CheckOut = () => {\r\n  const { user } = useAuth();\r\n  const { cart, total, clearCart } = useCart();\r\n  const [loading, setLoading] = useState(false);\r\n  const [orderId, setOrderId] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const createOrder = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      setError('Debes iniciar sesión para realizar una compra');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const objOrder = {\r\n        items: cart.map(item => ({\r\n          id: item.id,\r\n          title: item.title,\r\n          price: item.price,\r\n          quantity: item.quantity\r\n        })),\r\n        total,\r\n        userId: user.uid,\r\n        userEmail: user.email,\r\n        date: new Date().toISOString(),\r\n        status: 'created'\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:3001/api/orders', objOrder);\r\n      \r\n      if (response.data && response.data.id) {\r\n        setOrderId(response.data.id);\r\n        clearCart();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al crear la orden:', error);\r\n      setError(error.response?.data?.message || 'Error al procesar la orden');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ... resto del componente\r\n};"],"mappings":";AAAA,MAAMA,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM;IAAEC;EAAK,CAAC,GAAGC,OAAO,CAAC,CAAC;EAC1B,MAAM;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAU,CAAC,GAAGC,OAAO,CAAC,CAAC;EAC5C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMK,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACf,IAAI,EAAE;MACTY,QAAQ,CAAC,+CAA+C,CAAC;MACzD;IACF;IAEAL,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMS,QAAQ,GAAG;QACfC,KAAK,EAAEf,IAAI,CAACgB,GAAG,CAACC,IAAI,KAAK;UACvBC,EAAE,EAAED,IAAI,CAACC,EAAE;UACXC,KAAK,EAAEF,IAAI,CAACE,KAAK;UACjBC,KAAK,EAAEH,IAAI,CAACG,KAAK;UACjBC,QAAQ,EAAEJ,IAAI,CAACI;QACjB,CAAC,CAAC,CAAC;QACHpB,KAAK;QACLqB,MAAM,EAAExB,IAAI,CAACyB,GAAG;QAChBC,SAAS,EAAE1B,IAAI,CAAC2B,KAAK;QACrBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QAC9BC,MAAM,EAAE;MACV,CAAC;MAED,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAAC,kCAAkC,EAAElB,QAAQ,CAAC;MAE/E,IAAIgB,QAAQ,CAACG,IAAI,IAAIH,QAAQ,CAACG,IAAI,CAACf,EAAE,EAAE;QACrCV,UAAU,CAACsB,QAAQ,CAACG,IAAI,CAACf,EAAE,CAAC;QAC5BhB,SAAS,CAAC,CAAC;MACb;IACF,CAAC,CAAC,OAAOO,KAAK,EAAE;MAAA,IAAAyB,eAAA,EAAAC,oBAAA;MACdC,OAAO,CAAC3B,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDC,QAAQ,CAAC,EAAAwB,eAAA,GAAAzB,KAAK,CAACqB,QAAQ,cAAAI,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBD,IAAI,cAAAE,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,4BAA4B,CAAC;IACzE,CAAC,SAAS;MACRhC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;AACF,CAAC;AAACR,EAAA,CA7CID,QAAQ;AAAA0C,EAAA,GAAR1C,QAAQ;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}