{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */function () {\n  function Mutex(cancelError) {\n    this._semaphore = new Semaphore_1.default(1, cancelError);\n  }\n  Mutex.prototype.acquire = function () {\n    return tslib_1.__awaiter(this, arguments, void 0, function (priority) {\n      var _a, releaser;\n      if (priority === void 0) {\n        priority = 0;\n      }\n      return tslib_1.__generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            return [4 /*yield*/, this._semaphore.acquire(1, priority)];\n          case 1:\n            _a = _b.sent(), releaser = _a[1];\n            return [2 /*return*/, releaser];\n        }\n      });\n    });\n  };\n  Mutex.prototype.runExclusive = function (callback, priority) {\n    if (priority === void 0) {\n      priority = 0;\n    }\n    return this._semaphore.runExclusive(function () {\n      return callback();\n    }, 1, priority);\n  };\n  Mutex.prototype.isLocked = function () {\n    return this._semaphore.isLocked();\n  };\n  Mutex.prototype.waitForUnlock = function (priority) {\n    if (priority === void 0) {\n      priority = 0;\n    }\n    return this._semaphore.waitForUnlock(1, priority);\n  };\n  Mutex.prototype.release = function () {\n    if (this._semaphore.isLocked()) this._semaphore.release();\n  };\n  Mutex.prototype.cancel = function () {\n    return this._semaphore.cancel();\n  };\n  return Mutex;\n}();\nexports.default = Mutex;","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib_1","require","Semaphore_1","Mutex","cancelError","_semaphore","default","prototype","acquire","__awaiter","arguments","priority","_a","releaser","__generator","_b","label","sent","runExclusive","callback","isLocked","waitForUnlock","release","cancel"],"sources":["C:/Users/guill/OneDrive/Documents/UADE/TP/equipo1-ecommerce/equipo1-ecommerce/node_modules/async-mutex/lib/Mutex.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex(cancelError) {\n        this._semaphore = new Semaphore_1.default(1, cancelError);\n    }\n    Mutex.prototype.acquire = function () {\n        return tslib_1.__awaiter(this, arguments, void 0, function (priority) {\n            var _a, releaser;\n            if (priority === void 0) { priority = 0; }\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire(1, priority)];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback, priority) {\n        if (priority === void 0) { priority = 0; }\n        return this._semaphore.runExclusive(function () { return callback(); }, 1, priority);\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    Mutex.prototype.waitForUnlock = function (priority) {\n        if (priority === void 0) { priority = 0; }\n        return this._semaphore.waitForUnlock(1, priority);\n    };\n    Mutex.prototype.release = function () {\n        if (this._semaphore.isLocked())\n            this._semaphore.release();\n    };\n    Mutex.prototype.cancel = function () {\n        return this._semaphore.cancel();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIC,WAAW,GAAGD,OAAO,CAAC,aAAa,CAAC;AACxC,IAAIE,KAAK,GAAG,aAAe,YAAY;EACnC,SAASA,KAAKA,CAACC,WAAW,EAAE;IACxB,IAAI,CAACC,UAAU,GAAG,IAAIH,WAAW,CAACI,OAAO,CAAC,CAAC,EAAEF,WAAW,CAAC;EAC7D;EACAD,KAAK,CAACI,SAAS,CAACC,OAAO,GAAG,YAAY;IAClC,OAAOR,OAAO,CAACS,SAAS,CAAC,IAAI,EAAEC,SAAS,EAAE,KAAK,CAAC,EAAE,UAAUC,QAAQ,EAAE;MAClE,IAAIC,EAAE,EAAEC,QAAQ;MAChB,IAAIF,QAAQ,KAAK,KAAK,CAAC,EAAE;QAAEA,QAAQ,GAAG,CAAC;MAAE;MACzC,OAAOX,OAAO,CAACc,WAAW,CAAC,IAAI,EAAE,UAAUC,EAAE,EAAE;QAC3C,QAAQA,EAAE,CAACC,KAAK;UACZ,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC,WAAW,IAAI,CAACX,UAAU,CAACG,OAAO,CAAC,CAAC,EAAEG,QAAQ,CAAC,CAAC;UAClE,KAAK,CAAC;YACFC,EAAE,GAAGG,EAAE,CAACE,IAAI,CAAC,CAAC,EAAEJ,QAAQ,GAAGD,EAAE,CAAC,CAAC,CAAC;YAChC,OAAO,CAAC,CAAC,CAAC,YAAYC,QAAQ,CAAC;QACvC;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;EACDV,KAAK,CAACI,SAAS,CAACW,YAAY,GAAG,UAAUC,QAAQ,EAAER,QAAQ,EAAE;IACzD,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;MAAEA,QAAQ,GAAG,CAAC;IAAE;IACzC,OAAO,IAAI,CAACN,UAAU,CAACa,YAAY,CAAC,YAAY;MAAE,OAAOC,QAAQ,CAAC,CAAC;IAAE,CAAC,EAAE,CAAC,EAAER,QAAQ,CAAC;EACxF,CAAC;EACDR,KAAK,CAACI,SAAS,CAACa,QAAQ,GAAG,YAAY;IACnC,OAAO,IAAI,CAACf,UAAU,CAACe,QAAQ,CAAC,CAAC;EACrC,CAAC;EACDjB,KAAK,CAACI,SAAS,CAACc,aAAa,GAAG,UAAUV,QAAQ,EAAE;IAChD,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;MAAEA,QAAQ,GAAG,CAAC;IAAE;IACzC,OAAO,IAAI,CAACN,UAAU,CAACgB,aAAa,CAAC,CAAC,EAAEV,QAAQ,CAAC;EACrD,CAAC;EACDR,KAAK,CAACI,SAAS,CAACe,OAAO,GAAG,YAAY;IAClC,IAAI,IAAI,CAACjB,UAAU,CAACe,QAAQ,CAAC,CAAC,EAC1B,IAAI,CAACf,UAAU,CAACiB,OAAO,CAAC,CAAC;EACjC,CAAC;EACDnB,KAAK,CAACI,SAAS,CAACgB,MAAM,GAAG,YAAY;IACjC,OAAO,IAAI,CAAClB,UAAU,CAACkB,MAAM,CAAC,CAAC;EACnC,CAAC;EACD,OAAOpB,KAAK;AAChB,CAAC,CAAC,CAAE;AACJL,OAAO,CAACQ,OAAO,GAAGH,KAAK","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}