{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{signInWithPopup}from'firebase/auth';import{auth,googleProvider}from'../service/firebaseConfig';import{useAuth}from'../../context/AuthContext';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const Auth=()=>{const{setUser,setUserRole}=useAuth();const navigate=useNavigate();const handleGoogleLogin=async()=>{try{const result=await signInWithPopup(auth,googleProvider);const firebaseToken=await result.user.getIdToken();const response=await axios.post('http://localhost:3001/auth/login',{firebaseToken});setUser(result.user);setUserRole(response.data.userRole);navigate('/');}catch(error){console.error(\"Error al iniciar sesión con Google:\",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleGoogleLogin,className:\"btn btn-primary\",children:\"Iniciar sesi\\xF3n con Google\"})});};export default Auth;","map":{"version":3,"names":["React","useNavigate","signInWithPopup","auth","googleProvider","useAuth","axios","jsx","_jsx","Auth","setUser","setUserRole","navigate","handleGoogleLogin","result","firebaseToken","user","getIdToken","response","post","data","userRole","error","console","className","children","onClick"],"sources":["C:/Users/guill/OneDrive/Documents/UADE/TP/equipo1-ecommerce/equipo1-ecommerce/src/components/Login/Auth.js"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { signInWithPopup } from 'firebase/auth';\r\nimport { auth, googleProvider } from '../service/firebaseConfig';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst Auth = () => {\r\n  const { setUser, setUserRole } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleGoogleLogin = async () => {\r\n    try {\r\n      const result = await signInWithPopup(auth, googleProvider);\r\n      const firebaseToken = await result.user.getIdToken();\r\n\r\n      const response = await axios.post('http://localhost:3001/auth/login', { firebaseToken });\r\n\r\n      setUser(result.user);\r\n      setUserRole(response.data.userRole);\r\n\r\n      navigate('/');\r\n    } catch (error) {\r\n      console.error(\"Error al iniciar sesión con Google:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <button onClick={handleGoogleLogin} className=\"btn btn-primary\">Iniciar sesión con Google</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,eAAe,KAAQ,eAAe,CAC/C,OAASC,IAAI,CAAEC,cAAc,KAAQ,2BAA2B,CAChE,OAASC,OAAO,KAAQ,2BAA2B,CACnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAEC,OAAO,CAAEC,WAAY,CAAC,CAAGN,OAAO,CAAC,CAAC,CAC1C,KAAM,CAAAO,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAY,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAZ,eAAe,CAACC,IAAI,CAAEC,cAAc,CAAC,CAC1D,KAAM,CAAAW,aAAa,CAAG,KAAM,CAAAD,MAAM,CAACE,IAAI,CAACC,UAAU,CAAC,CAAC,CAEpD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,IAAI,CAAC,kCAAkC,CAAE,CAAEJ,aAAc,CAAC,CAAC,CAExFL,OAAO,CAACI,MAAM,CAACE,IAAI,CAAC,CACpBL,WAAW,CAACO,QAAQ,CAACE,IAAI,CAACC,QAAQ,CAAC,CAEnCT,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC7D,CACF,CAAC,CAED,mBACEd,IAAA,QAAKgB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BjB,IAAA,WAAQkB,OAAO,CAAEb,iBAAkB,CAACW,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,8BAAyB,CAAQ,CAAC,CAC/F,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}